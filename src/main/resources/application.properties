# ===============================
# APPLICATION CONFIGURATION
# ===============================
spring.application.name=employee-rest-api
server.port=8080

# ===============================
# DATABASE CONFIGURATION (H2)
# ===============================
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.h2.console.settings.trace=false
spring.h2.console.settings.web-allow-others=false

# ===============================
# JPA/HIBERNATE CONFIGURATION
# ===============================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.show_sql=false
spring.jpa.properties.hibernate.use_sql_comments=true
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true
spring.jpa.open-in-view=false

# ===============================
# LOGGING CONFIGURATION
# ===============================
# Logging configuration is handled by logback-spring.xml
# This provides CRLF injection protection and security audit logging
logging.level.org.sanjeevas.springrest=INFO
logging.level.org.springframework.security=WARN
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN

# ===============================
# ACTUATOR CONFIGURATION
# ===============================
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=when-authorized
management.endpoint.health.show-components=when-authorized
management.info.env.enabled=true

# ===============================
# API DOCUMENTATION
# ===============================
springdoc.swagger-ui.enabled=false
springdoc.api-docs.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/v3/api-docs

# ===============================
# SECURITY CONFIGURATION
# ===============================
# IMPORTANT: Change these default passwords in production!
# Use environment variables: APP_SECURITY_ADMIN_PASSWORD and APP_SECURITY_USER_PASSWORD
app.security.admin.username=${APP_SECURITY_ADMIN_USERNAME:admin}
app.security.admin.password=${APP_SECURITY_ADMIN_PASSWORD:}
app.security.user.username=${APP_SECURITY_USER_USERNAME:user}
app.security.user.password=${APP_SECURITY_USER_PASSWORD:}
app.security.allowed-origins=${APP_SECURITY_ALLOWED_ORIGINS:http://localhost:3000,http://localhost:8080,http://localhost:8081}
app.security.jwt.secret=${APP_SECURITY_JWT_SECRET:}
app.security.jwt.expiration-ms=${APP_SECURITY_JWT_EXPIRATION_MS:86400000}

# ===============================
# VALIDATION CONFIGURATION
# ===============================
spring.jackson.deserialization.fail-on-unknown-properties=true
spring.jackson.serialization.fail-on-empty-beans=false

# ===============================
# CACHE CONFIGURATION
# ===============================
spring.cache.type=simple
spring.cache.cache-names=employees,employee,employeeCount
